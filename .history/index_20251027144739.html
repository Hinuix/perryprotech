<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Perry Protech â€” PDF Viewer</title>
    <link rel="stylesheet" href="styles.css">
    <meta name="robots" content="noindex">
</head>
<body>
    <div class="container pdf-container">
        <img src="Perry-Pro-Tech-Logo.webp" alt="Perry Protech Logo" class="logo">
        <h1>PDF Viewer</h1>
        <p class="muted">This site hosts a PDF. By default it will try to load <code>document.pdf</code> from the site root. You can also choose a local PDF to preview.</p>

        <div class="file-input">
            <label for="pdfFile">Choose a local PDF to preview</label>
            <input type="file" id="pdfFile" accept="application/pdf">
        </div>

        <div class="viewer-wrap">
            <!-- Primary embed. Browser support varies; iframe fallback provided inside. -->
            <object id="pdfObject" data="document.pdf" type="application/pdf" class="viewer-embed">
                <iframe id="pdfIframe" src="document.pdf" class="viewer-embed" title="PDF Preview">
                    <p>Your browser does not support embedding PDFs. You can <a href="document.pdf" target="_blank" rel="noopener">download the PDF</a> instead.</p>
                </iframe>
            </object>
        </div>

        <p class="muted">If you don't have a <code>document.pdf</code> yet, add it to this folder (next to <code>index.html</code>) or use the file picker above.</p>
    </div>

    <script>
        // Allow previewing a local PDF file via a file input.
        const input = document.getElementById('pdfFile');
        const pdfObject = document.getElementById('pdfObject');
        const pdfIframe = document.getElementById('pdfIframe');

        input.addEventListener('change', (e) => {
            const file = e.target.files && e.target.files[0];
            if (!file) return;
            const url = URL.createObjectURL(file);
            // Set both object and iframe for broader compatibility
            pdfObject.data = url;
            pdfIframe.src = url;
        });
    </script>
</body>
</html>