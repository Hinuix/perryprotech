<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Customer Feedback Form</title>
<link rel="stylesheet" href="styles.css">
</head>
<body>

<!-- Password Protection -->
<div id="passwordOverlay" class="password-overlay">
  <div class="password-box">
    <img src="Perry-Pro-Tech-logo.webp" alt="Perry Protech Logo" class="logo">
    <h2>Please enter the password to access the form:</h2>
    <input type="password" id="passwordInput" placeholder="Password">
    <button onclick="checkPassword()">Submit</button>
  </div>
</div>

<div class="container" id="mainContent" style="display: none;">
    <img src="Perry-Pro-Tech-logo.webp" alt="Perry Protech Logo" class="logo">
    <h1>Customer Feedback Form</h1>
    <form id="feedbackForm">
        <label for="Name">Select your name:</label>
        <select id="Name" name="Name" required>
            <option value="">Please Select</option>
            <option value="Milton Hinnant">Milton Hinnant</option>
        </select>

        <label for="Email">Work Email:</label>
        <!---Auto fill their work emails for them, so they can do this quickly-->
        <select id="Email" name="Email" required>
            <option value="">Please Select</option>
            <option value="mhinnant@perryprotech.com">mhinnant@perryprotech.com</option>
        </select>

        <label for="Company">Company Name:</label>
        <input type="text" id="Company" name="Company" required>
        
        <label for="ITDepartment">Do they have an IT department?</label>
        <select id="IT Department" name="IT Department" required>
            <option value="">Please Select</option>
            <option value="yes">Yes</option>
            <option value="no">No</option>
        </select>

        <label for="Pain Points">What are their current pain points with IT?</label>
        <textarea id="PainPoints" name="Pain Points" required></textarea>

        <label for="NumberLocations">How many locations?</label>
        <input type="number" id="Number Locations" name="Number Locations" required>

        <br></br> 
        <br></br>
        
        <label for="Any more information">Any more information?</label>
        <textarea id="Any more information" name="Any more information" required></textarea>
        
        
        <br></br>

        <h5>MAKE SURE YOU SUBMIT THE LEAD IN SALESFORCE (IT LEAD)</h5>

        <input type="submit" value="Submit">
    </form>
    <p class="footer">Designed by Milton</p>
</div>

<script>
    // Password Protection
    function checkPassword() {
        var password = document.getElementById("passwordInput").value;
        if (password === "ppt") {
            document.getElementById("passwordOverlay").style.display = "none";
            document.getElementById("mainContent").style.display = "block";
        } else {
            alert("Incorrect password. Please try again.");
        }
    }

    document.getElementById('feedbackForm').addEventListener('submit', function(event) {
        event.preventDefault(); // Prevent the form from submitting

        // Get form data
        const formData = new FormData(this);

        // Convert form data to plain text
        let text = '';
        formData.forEach(function(value, key) {
            text += `${key}: ${value}\n`;
        });

        // Create a blob with the text data
        const blob = new Blob([text], { type: 'text/plain' });

        // Create a mailto link
        const mailtoLink = `mailto:mhinnant@perryprotech.com?subject=New Lead&body=${encodeURIComponent(text)}`;

        // Open the default email client with the mailto link
        window.location.href = mailtoLink;
    });
</script>
</body>
</html>
